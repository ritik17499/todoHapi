{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Documents/todo-frontend/src/pages/Todos.js\";\nimport React, { Component } from 'react';\nimport logo from '../assets/images/logo.png';\nimport { baseUrl } from '../components/BaseUrl';\nimport Swal from \"sweetalert2\";\nclass Todos extends Component {\n  constructor(props) {\n    super(props);\n    this.checkToken = () => {\n      if (!localStorage.getItem(\"token\")) {\n        this.props.history.push(\"/login\");\n      }\n    };\n    this.logout = () => {\n      if (localStorage.clear()) {\n        this.props.history.push(\"/login\");\n      }\n    };\n    this.createTodo = () => {\n      const {\n        item\n      } = this.state;\n      this.setState({\n        isAddingItem: true,\n        isDisabled: true\n      });\n      let req = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          title: `${item}`,\n          description: null,\n          completed: `false`\n        })\n      };\n      fetch(`${baseUrl}todoApp/tasks`, req).then(response => response.json()).then(responseJson => {\n        console.warn(responseJson);\n        if (responseJson && responseJson.id) {\n          this.setState({\n            isAddingItem: false,\n            isDisabled: false\n          });\n          Swal.fire({\n            title: \"Success\",\n            text: 'Task added successfully!',\n            icon: \"success\",\n            confirmButtonText: \"OK\"\n          });\n        } else {\n          this.setState({\n            isAddingItem: false,\n            isDisabled: false\n          });\n          Swal.fire({\n            title: \"Error!\",\n            text: 'An error occurred. Please try again later.',\n            icon: \"error\",\n            confirmButtonText: \"OK\"\n          });\n        }\n      }).catch(error => {\n        this.setState({\n          isAddingItem: false,\n          isDisabled: false\n        });\n        Swal.fire({\n          title: \"Error!\",\n          text: error.message,\n          icon: \"error\",\n          confirmButtonText: \"OK\"\n        });\n      });\n    };\n    this.state = {\n      item: \"\",\n      isAddingItem: false\n    };\n  }\n  componentDidMount() {\n    this.checkToken();\n  }\n  render() {\n    const {\n      isAddingItem\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      className: \"img-fluid profile-image-pic img-thumbnail my-3\",\n      width: \"200px\",\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"info-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, \"Hello \", `${localStorage.getItem(\"name\")}`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-name mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: e => this.logout(),\n      style: {\n        fontSize: 18\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, \"Logout\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"todo-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"todo-app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"add-todo-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"add-todo-input\",\n      type: \"text\",\n      placeholder: \"Add item\",\n      onChange: e => this.setState({\n        item: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => this.createTodo(),\n      className: \"add-todo-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, isAddingItem ? 'adding item ...' : \"Add\")), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"todo-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }))));\n  }\n}\nexport default Todos;","map":{"version":3,"names":["React","Component","logo","baseUrl","Swal","Todos","constructor","props","checkToken","localStorage","getItem","history","push","logout","clear","createTodo","item","state","setState","isAddingItem","isDisabled","req","method","headers","Accept","body","JSON","stringify","title","description","completed","fetch","then","response","json","responseJson","console","warn","id","fire","text","icon","confirmButtonText","catch","error","message","componentDidMount","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","width","alt","onClick","e","style","fontSize","type","placeholder","onChange","target","value"],"sources":["/Users/macbookpro/Documents/todo-frontend/src/pages/Todos.js"],"sourcesContent":["import React, { Component } from 'react';\nimport logo from '../assets/images/logo.png';\nimport { baseUrl } from '../components/BaseUrl';\nimport Swal from \"sweetalert2\";\n\nclass Todos extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      item: \"\",\n      isAddingItem: false\n    }\n  }\n\n  checkToken = () => {\n    if(!localStorage.getItem(\"token\")){\n      this.props.history.push(\"/login\")\n    }\n  }\n\n  logout = () => {\n    if(localStorage.clear()) {\n      this.props.history.push(\"/login\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkToken();\n  }\n\n  createTodo = () => {\n    const { item } = this.state;\n    this.setState({isAddingItem: true, isDisabled: true})\n    let req = {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        title: `${item}`,\n        description: null,\n        completed: `false`,\n      }),\n    };\n    fetch(`${baseUrl}todoApp/tasks`, req)\n      .then((response) => response.json())\n      .then((responseJson) => {\n        console.warn(responseJson);\n        if(responseJson && responseJson.id){\n          this.setState({isAddingItem: false, isDisabled: false})\n          Swal.fire({\n            title: \"Success\",\n            text: 'Task added successfully!',\n            icon: \"success\",\n            confirmButtonText: \"OK\",\n          })\n        }else{\n          this.setState({isAddingItem: false, isDisabled: false})\n          Swal.fire({\n            title: \"Error!\",\n            text: 'An error occurred. Please try again later.',\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        }\n      })\n      .catch((error) => {\n        this.setState({isAddingItem: false, isDisabled: false})\n        Swal.fire({\n          title: \"Error!\",\n          text: error.message,\n          icon: \"error\",\n          confirmButtonText: \"OK\",\n        });\n      })\n     }\n\n\n  render(){\n    const { isAddingItem } = this.state;\n    return(\n      <div className=\"container\">\n      <div className=\"text-center\">\n        <img src={logo} className=\"img-fluid profile-image-pic img-thumbnail my-3\"\n          width=\"200px\" alt=\"logo\" />\n      </div>\n      <div className=\"info-container\">\n      <div className=\"user-name\">\n      <h2>Hello {`${localStorage.getItem(\"name\")}`}</h2>\n      </div>\n      <div className=\"user-name mb-2\">\n      <button className=\"btn btn-danger\" onClick={(e) => this.logout()} style={{ fontSize: 18 }}>Logout</button>\n      </div>\n      </div>\n      <div className=\"todo-container\">\n      <div className=\"todo-app\">\n        <form className=\"add-todo-form\">\n          <input className=\"add-todo-input\" type=\"text\" placeholder=\"Add item\" onChange={(e) =>\n            this.setState({ item: e.target.value })\n          } />\n          <button type=\"button\" onClick={(e) => this.createTodo()} className=\"add-todo-btn\">\n          {isAddingItem ? (\n            'adding item ...'\n          ) : (\n            \"Add\"\n          )}\n          </button>\n        </form>\n        <ul className=\"todo-list\"></ul>\n      </div>\n      </div>\n      </div>\n    )\n  }\n}\n\nexport default Todos;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}